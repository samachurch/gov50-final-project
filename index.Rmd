---
title: "Gov 50 Final Project"
author: "Sam Church"
description: "My final project"
output:
  distill::distill_article:
    self_contained: false
---



## MILESTONE 1: Project thoughts

I am interested in doing my final project on an issue related to the federal court system. For example, I'd be interested in exploring how Chevron Deference has been declining as the justification in recent court decisions.

## MILESTONE 2: Project Proposal

Does the Supreme Court defer more to certain executive agencies over others when questions of statutory interpretations arise? In this report, I will attempt to determine whether the Supreme Court favors certain executive agencies when applying the doctrine of Executive Deference. I hypothesize that the supreme court applies deference relatively equally among executive agencies, as the doctrine of deference does not discriminate between the roles of distinct agencies. Thus, when examining data about whether or not the Supreme Court sides with an executive agency in a decision, I expect each agency to have a similar win rate in cases revolving around deference. The explanatory variable of interest my project will focus on is the agency bringing a case invoking the deference doctrine before the Supreme Court. The outcome variable would be the win rates of those different agencies when those cases are brought before the court. Thus, the database I will be utilizing is a list of Supreme Court cases from 1984 to 2019 where an agency attempts to interpret a law (statutory interpretation). If the the difference in win rates between different agencies is not statistically significant, my hypothesis would have been found to have statistical support. If there are statistically significant differences in win rates of agencies, there would appear to be favoritism on the Supreme Court, and my hypothesis would be disproved.

The variable for agency is coded 0-52, with each representing a different executive agency bringing the case to the Court. The variable called favors_agency can be considered in determining win rate. It is coded as a 0 if the decision favors agency, 1 if it does not, and 2 if it was mixed. To minimize confounding factors, I will only consider a 0 as a win for an agency. 

In addition, to avoid confounding variables regarding other aspects of cases, I will only investigate cases where the court determined Chevron Deference (one of the deference doctrines) should apply. Thus, the only cases I will evaluate are ones where Chevron Step 0 (does the Chevron framework apply) is coded as a 1 to indicate yes.

Link to dataset: https://dataverse.harvard.edu/dataset.xhtml?persistentId=doi:10.7910/DVN/ZNCKL5


## MILESTONE 3: Data Visulatization

I am going to make a scatter plot that shoes the win rate of different agencies in cases where Chevron is cited compared to the ideological slant of the court in order to determine which party has a stronger correlation with agency wins.

```{r}
library(ggplot2)
library(tidyverse)
```

```{r}
deference_data <- read_csv("data/ProjectDeferenceData.csv")

court_data <- read_csv("data/court.csv")
##RESET DATA
```

```{r}
deference_data <- deference_data |>
  mutate(
    case_winner = if_else(Decision == 0, "gov_agency", "not_agency"),
    term = Term
  ) |>
  select(term, Term, Name, Decision, Agency, ChevronCited, case_winner)


court_data <- court_data |>
  filter(term >= 1983 & term <= 2019) |>
  mutate(
    term = as.double(term)
  ) |>
  select(term, med)

deference_data

##CLEANUP DATA
```

let's combine deference data and court data:
```{r}
deference_data <- deference_data |>
  left_join(court_data)

deference_data
```


This will be a graph that shows the win rate of agencies in cases that cited Chevron overtime compared to the court's ideological slant over time. Let's create that variable.

```{r}
case_data <- deference_data |>
  filter(ChevronCited == 1) |>
  group_by(term) |>
  mutate(
    prop_agency_win = (sum(case_winner == "gov_agency")) / n()
  )
##calculates win rate
  
case_data
```


Now let's create the chart:
```{r}
case_data |>
  ggplot(mapping = aes(x = term)) +
  geom_smooth(aes(y = prop_agency_win, color = "Win Rate of Agencies in Chevron Cases"), se = FALSE) +
  geom_smooth(aes(y = `med`, color = "Ideological Slant of SCOTUS"), se = FALSE) +
  scale_colour_manual(name ="Legend", values = c("Win Rate of Agencies in Chevron Cases" = "steelblue", "Ideological Slant of SCOTUS" = "indianred")) +
  scale_x_continuous(breaks=seq(1983,2019,by=5)) +
labs(
  title = "Ideological Slant of SCOTUS and Agency Win Rate in Cases Citing Chevron Over Time",
  x = "Year",
  y = ""
)

```


Higher numbers on the y-axis indicate a more conservative supreme court and a higher agency win-rate in Chevron cases.

## MILESTONE 4: Analysis

Let's create a table that demonstrates the relationship between the median slant of the Supreme Court and the percentage of Chevron cases an agency wins.


```{r}
chevron_data <- deference_data |>
  group_by(term) |>
  summarize(
    median_slant = mean(med),
    agency_prop_win = mean(case_winner == "gov_agency")
  )

chevron_data <- chevron_data |>
  drop_na()

chevron_data |>
  knitr::kable(col.names = c("Term", "Ideological Slant of Median Justice", "Proportion of Agency Wins in Chevron Cases"))
```

let's put this on a more easy to read graph:

```{r}
ideology_graph <- chevron_data |>
  ggplot(mapping = aes(x = median_slant, y = agency_prop_win)) +
  geom_point() +
  geom_smooth(method = "lm", se = FALSE) +
  labs(
    x = "Ideological Slant of Median Supreme Court Justice",
    y = "Proportion of Cases Citing Chevron an Agency Won ",
    title = "Ideological Slant of Supreme Court vs. Agency Win Rate in Chevron Cases",
    caption = "Negative Values Show Liberal Lean, Positive Values Show Conservative Lean"
  )

ideology_graph
```


